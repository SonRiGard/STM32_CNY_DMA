Encoder with sensor CNY. 
I used it to measure the rotational speed of the F45 drone engine. The maximum speed I tested is 800 rpm. maybe it will run faster.
CNY signal - ADC : white color ADC_value > 1500 
                dark color ADC_value <> 1000 
                
                    